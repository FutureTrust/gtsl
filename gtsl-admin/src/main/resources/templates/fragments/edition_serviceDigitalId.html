<!--
  ~ Copyright (c) 2017 European Commission.
  ~
  ~ Licensed under the EUPL, Version 1.1 or â€“ as soon they will be approved by the European
  ~ Commission - subsequent versions of the EUPL (the "Licence").
  ~ You may not use this work except in compliance with the Licence.
  ~ You may obtain a copy of the Licence at:
  ~
  ~ https://joinup.ec.europa.eu/software/page/eupl5
  ~
  ~ Unless required by applicable law or agreed to in writing, software distributed under the Licence
  ~ is distributed on an "AS IS" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
  ~ or implied.
  ~ See the Licence for the specific language governing permissions and limitations under the
  ~ Licence.
  -->

<th:block th:fragment="serviceDigitalId(fieldName, label, field)">

  <div class="form-group">

    <h4 th:text="${label}"></h4>

    <th:block th:each="value,stat : *{__${field}__}">

      <div class="well"
           th:classappend="${'data-' + fieldName}"
           th:attr="data-index=${stat.index}">

        <div>
          <th:block
              th:insert="fragments/edition_digitalId :: digitalId (${fieldName + '-' + stat.index + '-digitalId'}, 'Digital Identity', ${field + '[' + stat.index + '].values'})">
            &nbsp;
          </th:block>
        </div>

        <div>
          <button type="button" class="btn btn-default btn-xs"
                  th:name="${'remove-' + fieldName}">
            <span class="glyphicon glyphicon-minus"></span>
            <span th:text="${'&ensp; Service digital identity'}"></span>
          </button>
        </div>

      </div>
    </th:block>

    <button type="button" class="btn btn-primary btn-xs"
            th:name="${'add-' + fieldName}">
      <span class="glyphicon glyphicon-plus"></span>
      <span th:text="${'&ensp; Service digital identity'}"></span>
    </button>

  </div>

  <hr/>
</th:block>