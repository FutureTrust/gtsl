<!--
  ~ Copyright (c) 2017 European Commission.
  ~
  ~ Licensed under the EUPL, Version 1.1 or â€“ as soon they will be approved by the European
  ~ Commission - subsequent versions of the EUPL (the "Licence").
  ~ You may not use this work except in compliance with the Licence.
  ~ You may obtain a copy of the Licence at:
  ~
  ~ https://joinup.ec.europa.eu/software/page/eupl5
  ~
  ~ Unless required by applicable law or agreed to in writing, software distributed under the Licence
  ~ is distributed on an "AS IS" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
  ~ or implied.
  ~ See the Licence for the specific language governing permissions and limitations under the
  ~ Licence.
  -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:replace="fragments/head :: head">&nbsp;</div>

<body>

<div th:replace="fragments/header :: header">&nbsp;</div>

<div th:replace="fragments/menu :: menu">&nbsp;
</div>

<div class="container-fluid">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div>
          <ul class="breadcrumb">
            <li><a class="a-link-custom" href="https://ec.europa.eu/commission/index_en"
                   target="_blank">European Commission</a>
            </li>
            <li><a class="a-link-custom"
                   href="https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/CEF+Digital+Home"
                   target="_blank">CEF Digital</a>
            </li>
            <li><a class="a-link-custom"
                   href="https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/eSignature"
                   target="_blank">eSignature</a>
            </li>
            <li>
              <a class="a-link-custom" href="">Trusted List Manager</a>
            </li>
            <li>
              <a class="a-link-custom" href="/drafts">Drafts</a>
            </li>
            <li class="active">Report</li>
          </ul>
        </div>
      </div>
    </div>

    <div th:if="${#bools.isTrue(valid)}" class="row alert alert-success text-center">
      <h3>
        <strong>Success!</strong> <span th:text="${successMessage}"></span>
      </h3>
    </div>

    <div th:if="${#bools.isFalse(valid)}" class="row alert alert-danger text-center">
      <h3>
        <strong>Warning!</strong> <span th:text="${errorMessage}"></span>
      </h3>
    </div>

    <div class="row text-center">
      <div class="btn-float-group clearfix">
        <a href="/drafts" class="btn btn-primary btn-lg">
          Back to drafts
        </a>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <h2>Report</h2>
        <div class="table-responsive">
          <table class="table table-bordered table-striped">
            <thead>
            <tr>
              <th class="text-center align-middle">Impact</th>
              <th class="text-center align-middle">Severity</th>
              <th class="text-center align-middle">Target</th>
              <th class="text-center align-middle">Description</th>
              <th class="text-center align-middle">Value</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="violation : ${report}">
              <td class="text-center align-middle"
                  th:text="${violation.impact}"></td>
              <td class="text-center align-middle"
              >
                <button type="button" class="btn btn-default"
                        th:classappend="${violation.severity == 'Error' ? 'failed-status' : (violation.severity == 'Warning' ? 'warning-status' : (violation.severity == 'Info' ? 'info-status' : 'current-status'))}">
                  <span th:text="${violation.severity}"></span>
                </button>
              </td>
              <td class="align-middle"
                  th:text="${violation.target}"></td>
              <td class="align-middle"
                  th:text="${violation.description}"></td>
              <td class="align-middle"
                  th:text="${violation.currentValue}"></td>
            </tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="text-center">
          <div class="btn-float-group clearfix">
            <a href="/drafts" class="btn btn-primary btn-lg">
              Back to drafts
            </a>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<div th:replace="fragments/footer :: footer">&nbsp;</div>
<div th:replace="fragments/assets :: assets">&nbsp;</div>

</body>
</html>